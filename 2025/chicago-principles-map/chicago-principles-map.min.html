<html lang=en><title>See when other universities adopted positions modeled after the Chicago Principles</title><meta name=viewport content="width=device-width,initial-scale=1"><style>body{font-family:Georgia,'serif'}#chart-div{width:100%;height:400px}</style><link rel=stylesheet href=style/style.css><script src=https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.js></script><link href=https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.css rel=stylesheet><div class=map-container><div id=map></div><div id=sidebar><div class=map-overlay-inner><h4>See when other universities adopted positions modeled after the Chicago Principles</h4><p id=menu-subtext>Use the slider to view the adoption of documents modeled after the Chicago Principles from 2015 to 2025.<p><b>Selected Year</b>: <span id=slider-year>2025</span><div id=slider-container><span class=slider-label><b>2015</b></span> <input type=range min=2015 max=2025 value=2025 class=slider id=map-slider> <span class=slider-label><b>2025</b></span></div></div></div></div><script>const STYLE="https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",USA=[-98.35,39.5];let popup,isMobile=window.innerWidth<800;var map=new maplibregl.Map({container:"map",style:STYLE,center:USA,zoom:isMobile?3:3.5,pitchWithRotate:!1,dragRotate:!1,touchZoomRotate:!1});function createPopup(e){popup&&popup.remove();var p=e.features[0].geometry.coordinates.slice();var t=`\n    <div class="popup-content">\n        <h2 class="popup-title">${e.features[0].properties.university}</h2>\n        <hr>\n        <p class="popup-date"><b>Date of Adoption</b>: ${e.features[0].properties.date}</p>\n        <p class="popup-type"><b>Type of Adoption</b>: ${e.features[0].properties.adoption_type}</p>\n    </div>`;popup=new maplibregl.Popup({closeButton:!1,className:"popup"}).setLngLat(p).setHTML(t).addTo(map)}map.addControl(new maplibregl.NavigationControl),map.on("load",(async()=>{map.addSource("unis",{type:"geojson",data:"data/uchi-principle-geo.geojson"}),map.addLayer({id:"unis",type:"circle",source:"unis",layout:{},paint:{"circle-color":"#800000","circle-radius":7,"circle-opacity":.6},filter:[">=","year",2015]}),map.on("click","unis",(e=>{map.getCanvas().style.cursor="pointer",createPopup(e)})),map.on("mouseenter","unis",(e=>{map.getCanvas().style.cursor="pointer",createPopup(e)})),map.on("mouseleave","unis",(()=>{map.getCanvas().style.cursor="",popup.remove()}))})),document.getElementById("map-slider").addEventListener("input",(e=>{popup&&popup.remove(),console.log(e.target.value),map.setFilter("unis",["<=","year",Number(e.target.value)]),document.getElementById("slider-year").innerText=e.target.value}))</script>
